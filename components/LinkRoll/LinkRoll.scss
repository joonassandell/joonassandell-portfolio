@use 'stylesheets/config' as *;
@use 'stylesheets/mixins' as *;

/**
 * 1. Fixes odd issue in Chromium where there sometimes seems to be extra text
 *    element under the animating elements
 * 2. To transition the change into underline if the underline is used as
 *    active state (e.g. in Header)
 */
.LinkRoll {
  display: inline-flex;
  overflow: hidden;
  position: relative;
  transition: opacity var(--trans-primary-fastest);
  will-change: opacity; // [1.]

  &:hover {
    opacity: var(--link-hover-opacity);
  }
}

.LinkRoll-text {
  display: inline;
  pointer-events: none;
  position: relative;

  &.-hover {
    inset: 0;
    position: absolute;
  }
}

.LinkRoll-char {
  display: inline-block;
  position: relative;

  &.-empty {
    visibility: hidden;
  }
}

/* =======================================
 * Variants
 * ======================================= */

.LinkRoll {
  // [2.]
  &.has-underline {
    .LinkRoll-char {
      &:after {
        border-bottom-style: solid;
        border-bottom-width: var(--border-width);
        content: '';
        inset: auto 0 rem($space-4xs) 0;
        opacity: 0;
        position: absolute;
        transition: opacity var(--trans-primary);
      }
    }
  }

  &.-underline {
    .LinkRoll-char {
      &:after {
        opacity: 1;
      }
    }
  }
}
